âŸ¨Parse, Fold, FlattenOffsets, Init, StepâŸ© â† â€¢Import "bf.bqn"

Log â† {
	â€¢Out (16 â†‘ 14 â†‘ â€¢Fmt â€¢MonoTime@) âˆ¾ ğ•©
}

While â† {ğ•©â€¢_while_ğ•¨@}Â´

nâ†âŠ‘â€¢args
# Log "Starting BF interpreter for " âˆ¾ n
fâ†â€¢Fchars n
# Log "Starting Parsing"
astâ†Parse f
# Log "Completed Parsing"

# Log "Starting Optimizations"
astâ†©Fold ast
# Log "Completed Fold"
astâ†©FlattenOffsets ast
# Log "Completed FlattenOffsets"
# Log "Completed Optimizations"

# Log "Starting Program"
# â€¢Show 10000 {StepâŸ100_000_000âŠ1 10 Initğ•©}â€¢_timed ast
sâ†Init ast
WhileâŠ@ 1â€¿{ğ•¤
	sâ†©Step s
}
# Log "Completed Program or ran out of steps"
